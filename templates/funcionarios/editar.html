<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Funcionário - Sistema RH</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/registro.css">
</head>
<body>
    <div class="container registro-container">
        <div class="form-title">
            <h2>EDIÇÃO DE EMPREGADO</h2>
            <div class="registry-info">
                <label>ID do Funcionário:</label>
                <input type="text" id="funcionario_id" readonly>
            </div>
        </div>

        <form id="editarForm">
            <!-- DADOS PESSOAIS -->
            <div class="form-section full-width">
                <h3>DADOS PESSOAIS</h3>
                <div class="form-row">
                    <label>Nome:</label>
                    <input type="text" id="nome">
                    <label style="margin-left: 20px;">Data de Nascimento:</label>
                    <input type="date" id="data_nascimento">
                </div>

                <div class="form-row">
                    <label>CPF:</label>
                    <input type="text" id="cpf">
                    <label style="margin-left: 20px;">RG:</label>
                    <input type="text" id="rg_numero">
                </div>

                <div class="form-row">
                    <label>Nome da Mãe:</label>
                    <input type="text" id="nome_mae">
                    <label style="margin-left: 20px;">Nome do Pai:</label>
                    <input type="text" id="nome_pai">
                </div>

                <div class="form-row">
                    <label>Município de Nascimento:</label>
                    <input type="text" id="municipio_nascimento">
                    <label style="margin-left: 20px;">UF:</label>
                    <input type="text" id="uf_nascimento">
                </div>

                <div class="form-row">
                    <label>Nacionalidade:</label>
                    <input type="text" id="nacionalidade">
                    <label style="margin-left: 20px;">Estado Civil:</label>
                    <input type="text" id="estado_civil">
                </div>

                <div class="form-row">
                    <label>Data de Emissão do RG:</label>
                    <input type="date" id="rg_data_emissao">
                    <label style="margin-left: 20px;">Órgão Emissor:</label>
                    <input type="text" id="rg_orgao_emissor">
                </div>
            </div>

            <!-- DOCUMENTAÇÃO -->
            <div class="form-section full-width">
                <h3>DOCUMENTAÇÃO</h3>
                <div class="form-row">
                    <label>CTPS Número:</label>
                    <input type="text" id="ctps_numero">
                    <label style="margin-left: 20px;">Série:</label>
                    <input type="text" id="ctps_serie">
                    <label style="margin-left: 20px;">UF:</label>
                    <input type="text" id="ctps_uf">
                </div>
                <div class="form-row">
                    <label>Data de Emissão:</label>
                    <input type="date" id="ctps_data_emissao">
                </div>

                <div class="form-row">
                    <label>Título de Eleitor:</label>
                    <input type="text" id="titulo_eleitor">
                    <label style="margin-left: 20px;">Zona:</label>
                    <input type="text" id="titulo_zona">
                    <label style="margin-left: 20px;">Seção:</label>
                    <input type="text" id="titulo_secao">
                </div>

                <div class="form-row">
                    <label>PIS:</label>
                    <input type="text" id="pis">
                    <label style="margin-left: 20px;">Data de Cadastro:</label>
                    <input type="date" id="pis_data_cadastro">
                </div>
            </div>

            <!-- DADOS PROFISSIONAIS -->
            <div class="form-section full-width">
                <h3>DADOS PROFISSIONAIS</h3>
                <div class="form-row">
                    <label>Cargo:</label>
                    <input type="text" id="cargo">
                    <label style="margin-left: 20px;">Função:</label>
                    <input type="text" id="funcao">
                </div>

                <div class="form-row">
                    <label>Departamento:</label>
                    <input type="text" id="departamento">
                    <label style="margin-left: 20px;">Data de Admissão:</label>
                    <input type="date" id="data_admissao">
                </div>

                <div class="form-row">
                    <label>Data de Demissão:</label>
                    <input type="date" id="data_demissao">
                    <label style="margin-left: 20px;">Tipo de Desligamento:</label>
                    <input type="text" id="tipo_desligamento">
                </div>

                <div class="form-row">
                    <label>Tipo de Pagamento:</label>
                    <input type="text" id="tipo_pagamento">
                    <label style="margin-left: 20px;">Tipo de Contrato:</label>
                    <input type="text" id="tipo_contrato">
                </div>

                <div class="form-row">
                    <label>Salário:</label>
                    <input type="number" step="0.01" id="salario">
                    <label style="margin-left: 20px;">Horas Mensais:</label>
                    <input type="number" id="horas_mensais">
                </div>

                <div class="form-row">
                    <label>Adic. Periculosidade (%):</label>
                    <input type="number" step="0.01" id="adicional_periculosidade">
                    <label style="margin-left: 20px;">Adic. Insalubridade (%):</label>
                    <input type="number" step="0.01" id="adicional_insalubridade">
                </div>

                <div class="form-row">
                    <label>Grau de Instrução:</label>
                    <input type="text" id="grau_instrucao">
                    <label style="margin-left: 20px;">FGTS Banco:</label>
                    <input type="text" id="fgts_banco">
                </div>

                <div class="form-row">
                    <label>Data de Opção do FGTS:</label>
                    <input type="date" id="fgts_data_opcao">
                </div>

                <div class="form-row">
                    <label>Status:</label>
                    <select id="ativo">
                        <option value="true">Ativo</option>
                        <option value="false">Inativo</option>
                    </select>
                </div>

                <div class="form-row">
                    <label>Observações:</label>
                    <textarea id="observacoes" rows="4"></textarea>
                </div>
            </div>

            <!-- BENEFICIÁRIOS -->
            <div class="form-section full-width">
                <h3>BENEFICIÁRIOS</h3>
                <div id="beneficiariosContainer"></div>
                <button type="button" id="btnAddBeneficiario" class="btn-add" style="margin-top: 10px;">Adicionar Beneficiário</button>
            </div>

            <div class="form-actions">
                <button type="button" class="btn-voltar" onclick="location.href='../funcionarios/listar.html'">Voltar</button>
                <button type="submit" class="btn-success">Salvar Alterações</button>
                <button type="button" class="btn-danger" id="btnDesativar">Desativar Funcionário</button>
            </div>
        </form>
    </div>

    <script src="../js/auth.js"></script>
    <script src="../js/editarFuncionario.js"></script>
    <script>
        function createBeneficiarioFields(beneficiario = {}) {
            const container = document.createElement('div');
            container.className = 'form-row beneficiario-row';
            container.style.marginBottom = '10px';

            container.innerHTML = `
                <input type="text" class="beneficiario-nome" placeholder="Nome" value="${beneficiario.nome || ''}" />
                <input type="text" class="beneficiario-parentesco" placeholder="Parentesco" value="${beneficiario.parentesco || ''}" style="margin-left: 10px;" />
                <button type="button" class="btn-remove-beneficiario" style="margin-left: 10px;">Remover</button>
            `;

            container.querySelector('.btn-remove-beneficiario').addEventListener('click', () => {
                container.remove();
            });

            document.getElementById('beneficiariosContainer').appendChild(container);
        }

        document.getElementById('btnAddBeneficiario').addEventListener('click', () => {
            createBeneficiarioFields();
        });
    </script>
</body>
</html>
